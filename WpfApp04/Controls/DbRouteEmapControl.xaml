<UserControl x:Class="WpfApp04.Controls.DbRouteEmapControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WpfApp04.Controls"
             mc:Ignorable="d" 
             d:DesignHeight="350" d:DesignWidth="800">
    <Grid Background="LightGray">
        <Grid.ColumnDefinitions>

            <ColumnDefinition Width="356"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="127*"/>
                <RowDefinition Height="81*"/>
                <RowDefinition Height="142*"/>
            </Grid.RowDefinitions>
            <ListBox Name="dbElectronicMapListBox" 
                 Grid.Column="0" Grid.Row="2" 
                 HorizontalAlignment="Left" 
                 VerticalAlignment="Center" 
                 Height="122" Width="95" SelectionChanged="dbElectronicMapListBox_SelectionChanged"/>

            <ListBox Name="dbEmapRoutesListBox" 
                 Grid.Column="0" Grid.Row="2" 
                 Margin="104,0,0,0" 
                 HorizontalAlignment="Left" 
                 VerticalAlignment="Center" 
                 Height="122" Width="95" SelectionChanged="dbEmapRoutesListBox_SelectionChanged">

            </ListBox>

            <TextBox Name="StationToFindTextBox" HorizontalAlignment="Left" Margin="104,2,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="66"/>
            <Button Name="StationToFindTextButton"  Content="Найти" HorizontalAlignment="Left" Margin="176,2,0,0" VerticalAlignment="Top" Height="18" Width="62" Click="StationToFindTextButton_Click"/>
            <TextBlock HorizontalAlignment="Left" Margin="2,2,0,0" TextWrapping="Wrap" Text="Поиск Станции" VerticalAlignment="Top" Height="18" Width="92"/>
            <TextBox x:Name="ObjectToFindTextBox" HorizontalAlignment="Left" Margin="104,23,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="67"/>
            <Button x:Name="ObjectToFindTextButton"  Content="Найти" HorizontalAlignment="Left" Margin="176,23,0,0" VerticalAlignment="Top" Height="18" Width="62" Click="ObjectToFindTextButton_Click"/>
            <TextBlock HorizontalAlignment="Left" Margin="2,23,0,0" TextWrapping="Wrap" Text="Поиск Объекта" VerticalAlignment="Top" Height="18" Width="92"/>
            <DataGrid x:Name="FoundStationsGrid"  
            IsReadOnly="True"
            AutoGenerateColumns="False" 
            Background="#FFF0F0F0" 
            HorizontalGridLinesBrush="Gray"
            Grid.RowSpan="1"
            VerticalGridLinesBrush="Gray" 
            ColumnHeaderHeight="25" 
            CanUserResizeRows="False" 
            CanUserAddRows="False"
            CanUserDeleteRows="False" Margin="0,48,10,0" MouseDoubleClick="FoundStationsGrid_MouseDoubleClick"   >
                <DataGrid.Columns>
                    <DataGridTextColumn Header="StationID" Binding="{Binding EgisStationID}" Width="80" />
                    <DataGridTextColumn Header="Станция" Binding="{Binding StationName}" Width="1*"/>
                </DataGrid.Columns>
            </DataGrid>
            <DataGrid 
            IsReadOnly="True"
            x:Name="EgisFoundPointObjectsGrid"
            AutoGenerateColumns="False" Margin="0,4,10,0" Grid.Row="1" MouseDoubleClick="EgisFoundPointObjectsGrid_MouseDoubleClick">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="TrackObjectName" Binding="{Binding TrackObjectName}" Width="1*"/>
                    <DataGridTextColumn Header="Км" Binding="{Binding PointOnTrackKm}" Width="45"/>
                    <DataGridTextColumn Header="Пк" Binding="{Binding PointOnTrackPk}" Width="35"/>
                    <DataGridTextColumn Header="М" Binding="{Binding PointOnTrackM}" Width="45"/>

                </DataGrid.Columns>
            </DataGrid>
        </Grid>


        <GridSplitter Grid.Column="1"  Grid.Row="0" Grid.ColumnSpan="1" ShowsPreview="False" Width="5" HorizontalAlignment="Center" VerticalAlignment="Stretch" />
        <ScrollViewer Background="White" HorizontalScrollBarVisibility="Visible" VerticalScrollBarVisibility="Visible" Grid.Column="2">
            <local:DrawingCanvas x:Name="waywrapPanel" Focusable="true" Background="Transparent" Height="560" VerticalAlignment="Bottom"   >

            </local:DrawingCanvas>
        </ScrollViewer>


    </Grid>
</UserControl>
